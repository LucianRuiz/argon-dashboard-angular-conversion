<!-- Page Layout with Sidebar -->
<div class="m-0 font-sans text-base antialiased font-normal text-left leading-default dark:bg-slate-950 bg-gray-50 text-slate-500 dark:bg-slate-900 dark:text-white">

  <!-- Background -->
  <div class="absolute w-full bg-blue-500 dark:hidden min-h-[18.75rem]"></div>

  <!-- Sidebar -->
  <app-sidebar theme="default" *ngIf="sidebarData$ | async as sidebarData" [data]="sidebarData"></app-sidebar>

  <!-- Main Content Area -->
  <main class="relative h-full max-h-screen transition-all duration-200 ease-in-out xl:ml-68 rounded-xl" appPerfectScrollbar>
    <!-- Navbar -->
    <app-navbar *ngIf="navbarData$ | async as navbarData" [data]="navbarData"></app-navbar>

    <!-- Main content -->
    <div class="w-full px-6 py-6 mx-auto">
      <!-- Hero section with Tesla -->
      <div class="flex flex-wrap mt-6 -mx-3">
        <div class="w-full max-w-full px-3 flex-0" *ngIf="heroData$ | async as heroData">
          <app-automotive-hero-card [data]="heroData"></app-automotive-hero-card>
        </div>
      </div>

      <!-- Stats cards row -->
      <div class="flex flex-wrap mt-6 -mx-3" *ngIf="statsCards$ | async as statsCards">
        <div class="w-full max-w-full px-3 flex-0 md:w-6/12 lg:w-3/12" 
             *ngFor="let card of statsCards; let i = index">
          <div [class]="i > 0 ? 'mt-6 md:mt-0' : ''">
            <app-automotive-stats-card [data]="card"></app-automotive-stats-card>
          </div>
        </div>
      </div>

      <!-- Navigation and music panel -->
      <ng-container *ngIf="navigationData$ | async as navigationData">
        <ng-container *ngIf="musicData$ | async as musicData">
          <ng-container *ngIf="controlData$ | async as controlData">
            <div class="flex flex-wrap mt-6 -mx-3">
              <div class="w-full max-w-full px-3 flex-0">
                <app-navigation-panel 
                  [navigationData]="navigationData"
                  [musicData]="musicData"
                  [controlData]="controlData">
                </app-navigation-panel>
              </div>
            </div>
          </ng-container>
        </ng-container>
      </ng-container>

      <!-- Footer -->
      <app-footer></app-footer>
    </div>
  </main>

  <!-- Argon Configurator -->
  <app-argon-configurator></app-argon-configurator>
</div>
