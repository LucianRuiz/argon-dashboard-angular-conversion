<!-- Existing special VR Navbar - USE as is -->
<app-navbar *ngIf="navbarData$ | async as navbarData" [data]="navbarData" mode="vr" navClasses="mx-6 mt-6"></app-navbar>

<!-- Contenedor principal con background VR -->
<div class="relative mx-4 mt-4 rounded-2xl bg-[url('assets/img/vr-bg.jpg')] bg-cover">
  
  <app-sidebar *ngIf="sidebarData$ | async as sidebarData" [data]="sidebarData" mode="vr"></app-sidebar>

  <!-- Contenido principal VR -->
  <main class="mt-1 transition-all duration-200 ease-in-out xl:ml-68 rounded-xl">
    <div class="relative scale-100 md:scale-60 min-h-85-screen">
      <div class="container md:-ml-12">
        <div class="flex flex-wrap -mx-3">
          <div class="relative z-20 w-full max-w-full px-3 mb-6 lg:flex-0 shrink-0 lg:mb-0 lg:w-full">
            <!-- Row 1: General Statistics Section -->
            <ng-container *ngIf="generalStats$ | async as generalStats">
              <div class="relative flex flex-col min-w-0 mb-6 -mx-3 break-words bg-transparent border-0 border-solid shadow-none rounded-2xl bg-clip-border">
                <div class="flex-auto p-4">
                  <div class="flex flex-wrap -mx-3">
                    <div class="w-full max-w-full px-3 lg:flex-0 shrink-0 lg:w-6/12">
                      <div class="flex flex-col h-full">
                        <h2 class="mt-6 mb-0 font-bold dark:text-white">General Statistics</h2>
                        <div class="flex items-center">
                          <h6 class="mb-0 font-bold animate-fade-up dark:text-white">{{ generalStats.description }}</h6>
                          <a href="javascript:;" class="mt-1 mb-0 ml-6 text-sm font-semibold leading-normal text-blue-500 group animate-fade-up">
                            Read More
                            <i class="fas fa-arrow-right text-sm ease-bounce group-hover:translate-x-1.25 ml-1 leading-normal transition-all duration-200"></i>
                          </a>
                        </div>
                        <h1 class="mb-0 font-bold animate-fade-up dark:text-white">{{ generalStats.totalUsers }}</h1>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </ng-container>

            <!-- Row 2: VR Stats Cards -->
            <ng-container *ngIf="statsCards$ | async as statsCards">
              <div class="flex flex-wrap -mx-3">
                <div *ngFor="let card of statsCards; let last = last; trackBy: trackByStatsCard" 
                     class="w-full max-w-full px-3 mb-6 animate-fade-up sm:w-1/2 sm:flex-none xl:w-1/4"
                     [class.xl:mb-0]="!last">
                  <app-stats-card [data]="card"></app-stats-card>
                </div>
              </div>
            </ng-container>

            <!-- Row 3: Widgets Section -->
            <ng-container *ngIf="teamMembers$ | async as teamMembers">
              <ng-container *ngIf="todoItems$ | async as todoItems">
                <ng-container *ngIf="progressItems$ | async as progressItems">
                  <div class="flex flex-wrap mt-1 -mx-3">
                    <!-- Column 1: Team Members Widget -->
                    <div class="w-full max-w-full px-3 mb-6 shrink-0 lg:w-4/12 animate-fade-up md:flex-0 md:w-6/12 lg:mb-0">
                      <app-team-members 
                        title="Team members"
                        [members]="teamMembers"
                        actionButtonText="Add">
                      </app-team-members>
                    </div>

                    <!-- Column 2: Todo List Widget -->
                    <div class="w-full max-w-full px-3 mb-6 shrink-0 lg:w-4/12 animate-fade-up md:flex-0 md:w-6/12 lg:mb-0">
                      <app-todo-list 
                        title="To do list"
                        [items]="todoItems">
                      </app-todo-list>
                    </div>

                    <!-- Column 3: Progress Track Widget -->
                    <div class="w-full max-w-full px-3 shrink-0 lg:w-4/12 animate-fade-up lg:flex-0">
                      <app-progress-track 
                        title="Progress track"
                        [items]="progressItems">
                      </app-progress-track>
                    </div>
                  </div>
                </ng-container>
              </ng-container>
            </ng-container>
          </div>
        </div>
      </div>
    </div>
  </main>
</div>


<app-footer></app-footer>


<app-argon-configurator></app-argon-configurator> 