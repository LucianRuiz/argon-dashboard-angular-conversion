<!-- Page Layout with Sidebar -->
<div class="m-0 font-sans text-base antialiased font-normal text-left leading-default dark:bg-slate-950 bg-gray-50 text-slate-500 dark:bg-slate-900 dark:text-white">

  <!-- Background -->
  <div class="absolute w-full bg-blue-500 dark:hidden min-h-[18.75rem]"></div>

  <!-- Sidebar -->
  <app-sidebar theme="default" *ngIf="sidebarData$ | async as sidebarData" [data]="sidebarData"></app-sidebar>

  <!-- Main Content Area -->
  <main class="relative transition-all duration-200 ease-in-out xl:ml-68 rounded-xl h-screen" appPerfectScrollbar>
    <!-- Navbar -->
    <app-navbar *ngIf="navbarData$ | async as navbarData" [data]="navbarData"></app-navbar>

    <!-- Content Container -->
    <div class="w-full px-6 py-4 mx-auto mt-8">
      <div class="flex flex-wrap -mx-3">
        <div class="w-full max-w-full px-3 flex-0">
          <!-- Form Section -->
          <app-multistep-form 
            *ngIf="multistepFormData$ | async as multistepFormData" 
            [data]="multistepFormData"
            (stepChange)="onStepChange($event)">
            <ng-container *ngIf="formData$ | async as formData">
              <!-- User Info Step -->
              <app-user-info-step
                *ngIf="multistepFormData.currentStep === 'user'"
                [userInfo]="formData.userInfo"
                [isActive]="true"
                (next)="onNextStep()">
              </app-user-info-step>

              <!-- Address Step -->
              <app-address-step
                *ngIf="multistepFormData.currentStep === 'address'"
                [addressInfo]="formData.addressInfo"
                [isActive]="true"
                (prev)="onPrevStep()"
                (next)="onNextStep()">
              </app-address-step>

              <!-- Socials Step -->
              <app-socials-step
                *ngIf="multistepFormData.currentStep === 'socials'"
                [data]="formData.socialsInfo"
                (prev)="onPrevStep()"
                (next)="onNextStep()">
              </app-socials-step>

              <!-- Profile Step -->
              <app-profile-step
                *ngIf="multistepFormData.currentStep === 'profile'"
                [profileInfo]="formData.profileInfo"
                [isActive]="true"
                (prev)="onPrevStep()"
                (send)="onSendForm()">
              </app-profile-step>
            </ng-container>
          </app-multistep-form>
        </div>
      </div>
    </div>
    
    <!-- Footer -->
    <div class="px-6 pb-6 mt-8">
      <div class="flex flex-wrap -mx-3">
        <div class="w-full max-w-full px-3 flex-0">
          <app-footer></app-footer>
        </div>
      </div>
    </div>
  </main>

  <!-- Argon Configurator -->
  <app-argon-configurator></app-argon-configurator>
</div>